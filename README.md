# Zenject Unity Architecture Documentation

## 1. Общая структура

Изначальный код был разбит на отдельные модули и переработан для работы с **Zenject**.

После переработки код работает следующим образом:

1. **ProjectInstaller** производит регистрацию объектов в контейнере.
2. Zenject создаёт необходимые сервисы и сущности, автоматически передавая зависимости через конструктор (Dependency Injection).
3. Основной вход в Unity-поток: **Entry** и **SecondEntry**.
4. Вызываются методы изменения состояния игрока (например, получение урона, смена активного предмета).

---

## 2. Регистрация в Zenject

* **Фабрики:**

```csharp
.BindFactory<ПараметрыСоздания, ТипСоздаваемогоПредмета, ТипФабрики>()
```

* **Сервисы:**

```csharp
.Bind<ИнтерфейсСервиса>().To<РеализацияСервиса>()
```

* **Сущности:**

```csharp
.BindInstance(СсылкаНаСущность)
```

> Примечание: DI (Dependency Injection) работает через интерфейсы — нет явного указания на реализацию.

---

## 3. Основной поток Unity

* **Entry** и **SecondEntry** — точки входа для демонстрации синглтона игрока.
* Методы изменения состояния игрока включают:

  * получение урона,
  * смену активного предмета,
  * другие действия, связанные с состоянием игрока.

---

## 4. Системы и их интерфейсы

| Система          | Назначение                                                                                     |
| ---------------- | ---------------------------------------------------------------------------------------------- |
| **Equipment**    | Управление экипировкой: отслеживает текущий предмет, позволяет использовать и переключать его. |
| **Health**       | Управление здоровьем: отслеживает количество здоровья игрока.                                  |
| **ItemLoadout**  | Начальная загрузка предметов и игрока.                                                         |
| **ItemFactory**  | Создание предметов: Weapon, RocketPack, Parachute.                                             |
| **ItemProvider** | Передача стандартных конфигураций в соответствующую фабрику.                                   |
| **ItemResolver** | Автоматическое определение нужной фабрики предметов.                                           |
| **Stat**         | ScriptableObject для задания настроек предметов без необходимости сборки проекта.              |
| **Player**       | Основной игровой объект, объединяющий системы здоровья и инвентаря.                            |

---
